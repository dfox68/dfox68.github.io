<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Trivia Game</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    </script>
  </head>
  <body>
    <div id="background">
      <img src="assets/images/TriviaNight.png" alt="Trivia Night">
<p>You have 15 seconds to answer the True or False questions.</p>
<p> Time remaining is <span id="countdowntimer">15 </span> seconds</p>
<p id="score"></p>
<p id="question"></p>
    <script type="text/javascript">
    // VARIABLES
    // ==========================================================================

    // The object questions for our quiz game.
    var questions = {
      q1: ["Austin is the capitol of Texas.", "t"],
      q2: ["St. Paul is the capitol of Minnesota.", "t"],
      q3: ["Rick Perry is the governor of Texas.", "f"],
      q4: ["Donald Trump is President of the United States.", "t"],
      q5: ["The earth is flat.", "f"]
    };


    var score = 0;
    // Variable to hold the index of current question.
    var questionIndex = 0;
    // Array of questions.
    var questionsArray = [questions.q1, questions.q2, questions.q3, questions.q4, questions.q5];


    // Function to render questions.
    function renderQuestion() {
      // If there are still more questions, render the next one.
      if (questionIndex <= (questionsArray.length - 1)) {
        document.querySelector("#question").innerHTML = questionsArray[questionIndex][0];
      }
      // If there aren't, render the end game screen.
      else {
        document.querySelector("#question").innerHTML = "Game Over!";
        document.querySelector("#score").innerHTML = "Final Score: " + score + " out of  " + questionsArray.length;
      }
    }

        // Function that updates the score...
    function updateScore() {
      document.querySelector("#score").innerHTML = "Score: " + score;
    }


    // MAIN PROCESS
    // ==============================================================================

    // Calling functions to start the game.
    renderQuestion();
    updateScore();

    // When the user presses a key, it will run the following function...
    document.onkeyup = function(event) {

      // countdown timer
      var timeleft = 15;
        var gameTimer = setInterval(function(){
        timeleft--;
        $("#countdowntimer").text(timeleft);
        if(timeleft <= 0)
                  clearInterval(gameTimer);
        },1000);

      // If there are no more questions, stop the function.
      if (questionIndex === questionsArray.length) {
        return;
      }

      // Determine which key was pressed, make it lowercase, and set it to the userInput variable.
      var userInput = String.fromCharCode(event.keyCode).toLowerCase();

      // Only run this code if "t" or "f" were pressed.
      if (userInput === "t" || userInput === "f") {

        // If they guess the correct answer, increase and update score, alert them they got it right.
        if (userInput === questionsArray[questionIndex][1]) {
          alert("Correct!");
          score++;
          updateScore();
        }
        // If wrong, alert them they are wrong.
        else {
          alert("Wrong!");
        }

        // Increment the questionIndex variable and call the renderQuestion function.
        questionIndex++;
        renderQuestion();

      }

    };

    </script>
    </div>
  </body>
</html>
